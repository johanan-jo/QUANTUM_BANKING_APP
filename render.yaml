version: "1"
services:
  - type: web
    name: quantum-banking-api
    env: python
    region: oregon
    plan: free
    buildCommand: "pip install -r requirements.txt"
    startCommand: "cd backend && python app.py"
    healthCheckPath: "/api/health"
    envVars:
      - key: DB_HOST
        value: dpg-quantum-banking-db.oregon-postgres.render.com
      - key: DB_USER
        value: quantum_banking_user
      - key: DB_PASS
        generateValue: true
      - key: DB_NAME
        value: quantum_banking
      - key: SMTP_EMAIL
        value: QUANTUM.BANK3@GMAIL.COM
      - key: SMTP_PASSWORD
        value: srdl cxmf ebjf ewrq
      - key: SMTP_HOST
        value: smtp.gmail.com
      - key: SMTP_PORT
        value: "587"
      - key: JWT_SECRET
        value: quantum_banking_super_secret_key_2025_production_grade_security_token_hash
      - key: PORT
        value: "5000"
      - key: FLASK_ENV
        value: production

  - type: pserv
    name: quantum-banking-db
    env: postgresql
    region: oregon
    plan: free
    databaseName: quantum_banking
    databaseUser: quantum_banking_user